{% load i18n %}
{% load vegetarian_cookbook_tags %}

<div class="recipe_energy_nutrients" style=" height:{{ size }}px;">
    <div class="recipe_energy_nutrients_svg" style="width:{{ size }}px; height:{{ size }}px;">
        <svg width="{{ size }}" height="{{ size }}" viewBox="0 0 100 100" font-family = "Montserrat">
            <circle fill="#E5E5E5" r="50" cx="50" cy="50" style="stroke-width: 50;"/>
            <circle r="25" cx="50" cy="50" transform="translate(50 50) rotate({{ a1 }}) translate(-50 -50)" style="stroke-width: 50;fill: transparent; stroke-dasharray: {{ v1 }} {{ n }};" class="color-protein"/>
            <circle r="25" cx="50" cy="50" transform="translate(50 50) rotate({{ a2 }}) translate(-50 -50)" style="stroke-width: 50;fill: transparent; stroke-dasharray: {{ v2 }} {{ n }};" class="color-fat"/>
            <circle r="25" cx="50" cy="50" transform="translate(50 50) rotate({{ a3 }}) translate(-50 -50)" style="stroke-width: 50;fill: transparent; stroke-dasharray: {{ v3 }} {{ n }};" class="color-carbohydrate"/>
            <text x = "50" y = "52" font-size = "35" text-anchor="middle" fill="#555">{{ energy |floatformat:"0"}}</text>
            <text x = "50" y = "72" font-size = "20" text-anchor="middle" fill="#555">{% trans "kCal" %}</text>
        </svg>
    </div>
    <div class="recipe_energy_nutrients_legend" style="left:{{ size }}px; {% if show_legend %} display:block {% endif %}">
        <div class="p-1">
            <table class="">
                <tr>
                    <td>
                        <div class="color-protein">&#11044;</div>
                    </td>
                    <td>
                        {% trans "Protein" %}:
                    </td>
                    <td class="text-right">
                        {{ protein | human_float:"1"}} {% trans "gr" %}
                    </td>
                </tr>
                <tr class="">
                    <td>
                        <div class="color-fat">&#11044;</div>
                    </td>
                    <td>
                        {% trans "Fat" %}:
                    </td>
                    <td class="text-right">
                        {{ fat | human_float:"1"}} {% trans "gr" %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="color-carbohydrate">&#11044;</div>
                    </td>
                    <td>
                        {% trans "Carbohydrate" %}:
                    </td>
                    <td class="text-right">
                        {{ carbohydrate | human_float:"1"}} {% trans "gr" %}
                    </td>
                </tr>
            </table>
        </div>
    </div>



</div>
